(function(){var f,c;f=angular.module("validator.directive",[]);c=function(g){return{restrict:"A",require:"ngModel",link:function(a,f,c){var d,h,k;d=g.get("$validator");h=g.get("$parse")(c.ngModel);k=function(d){h.assign(a,d.filter(h(a)));return d.validator(h(a),f,c)};return a.$watch(c.ngModel,function(a,b){var f,m,n,e;if(a!==b&&(f=c.validator.match(/^\/(.*)\/$/),!f&&(f=c.validator.match(/^\[(.*)\]$/))))for(f=f[1].split(","),n=0,e=f.length;n<e;n++)m=f[n],(m=d.getRule(m.trim()))&&k(m,!0)})}}};c.$inject=
["$injector"];f.directive("validator",c)}).call(this);(function(){angular.module("validator",["validator.provider","validator.directive","validator.rules"])}).call(this);
(function(){var f,c=[].indexOf||function(f){for(var a=0,c=this.length;a<c;a++)if(a in this&&this[a]===f)return a;return-1};f=angular.element;angular.module("validator.provider",[]).provider("$validator",function(){var g,a,l,q;a=g=null;this.rules={};l={all:function(){for(var d in this)if("all"!==d)this[d]()}};q=function(d){g=d;return a=g.get("$q")};this.convertRule=function(d){var h,k,l,b,p;null==d&&(d={});b={enableError:!1,invoke:d.invoke,filter:d.filter,validator:d.validator,error:d.error,success:d.success};
null==b.invoke&&(b.invoke=[]);null==b.filter&&(b.filter=function(b){return b});null==b.validator&&(b.validator=function(){return!0});null==b.error&&(b.error="");b.enableError=0<=c.call(b.invoke,"watch");b.error.constructor===String&&(h=b.error,b.error=function(b,d){var e,a,c;e=f(b).parent();c=[];for(a=1;3>=a;++a){if(e.hasClass("form-group")){f(b).parent().append("<label class='control-label error'>"+h+"</label>");e.addClass("has-error");break}c.push(e=e.parent())}return c});p=function(b,d){var e,
a,c,h,g;e=f(b).parent();g=[];for(a=1;3>=a;++a){if(e.hasClass("has-error")){e.removeClass("has-error");h=e.find("label");a=0;for(c=h.length;a<c;a++)if(e=h[a],f(e).hasClass("error")){e.remove();break}break}g.push(e=e.parent())}return g};b.success&&"function"===typeof b.success?(k=b.success,b.success=function(b,a){k(b,a);return p(b,a)}):b.success=p;b.validator.constructor===RegExp?(l=b.validator,b.validator=function(a,d,e){if(l.test(a))return b.success(d,e);if(b.enableError)return b.error(d,e)}):"function"===
typeof b.validator&&(k=b.validator,b.validator=function(d,c,e){return a.all([k(d,c,e,g)]).then(function(a){return a&&0<a.length&&a[0]?b.success(c,e):b.error(c,e)})});return b};this.register=function(a,c){null==c&&(c={});return this.rules[a]=this.convertRule(c)};this.getRule=function(a){return this.rules[a]?this.rules[a]:null};this.validate=function(a){};this.get=function(a){q(a);l.all();return{rules:this.rules,convertRule:this.convertRule,getRule:this.getRule,validate:this.validate}};this.get.$inject=
["$injector"];return this.$get=this.get})}).call(this);(function(){var f,c;f=angular.module("validator.rules",["validator.provider"]);c=function(c){c.register("required",{invoke:["watch"],validator:/^.+$/,error:"This field is required."});return c.register("trim",{filter:function(a){return a.trim()}})};c.$inject=["$validatorProvider"];f.config(c)}).call(this);
