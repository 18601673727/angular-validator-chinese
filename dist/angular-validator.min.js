(function(){var g,h;g=angular.module("validator.directive",[]);h=function(k){return{restrict:"A",require:"ngModel",link:function(c,g,f){var b,e,p;b=k.get("$validator");e=k.get("$parse")(f.ngModel);p=function(b){e.assign(c,b.filter(e(c)));return b.validator(e(c),g,f)};return c.$watch(f.ngModel,function(c,a){var e,l,n,d;if(c!==a)if(e=f.validator.match(/^\/(.*)\/$/))l=b.convertRule({validator:RegExp(e[1]),invoke:f.validatorInvoke,error:f.validatorError}),p(l);else if(e=f.validator.match(/^\[(.*)\]$/))for(e=
e[1].split(","),n=0,d=e.length;n<d;n++)l=e[n],(l=b.getRule(l.trim()))&&p(l)})}}};h.$inject=["$injector"];g.directive("validator",h)}).call(this);(function(){angular.module("validator",["validator.provider","validator.directive"])}).call(this);
(function(){var g,h=[].indexOf||function(g){for(var c=0,h=this.length;c<h;c++)if(c in this&&this[c]===g)return c;return-1};g=angular.element;angular.module("validator.provider",[]).provider("$validator",function(){var k,c,m,f;c=k=null;this.rules={};m={all:function(){for(var b in this)if("all"!==b)this[b]()}};f=function(b){k=b;return c=k.get("$q")};this.convertRule=function(b){var e,f,m,a,q;null==b&&(b={});a={enableError:!1,invoke:b.invoke,filter:b.filter,validator:b.validator,error:b.error,success:b.success};
null==a.invoke&&(a.invoke=[]);a.invoke.constructor===String&&(a.invoke=a.invoke.split(","));null==a.filter&&(a.filter=function(a){return a});null==a.validator&&(a.validator=function(){return!0});null==a.error&&(a.error="");a.enableError=0<=h.call(a.invoke,"watch");a.error.constructor===String&&(e=a.error,a.error=function(a,b){var d,c,f;d=g(a).parent();f=[];for(c=1;3>=c;++c){if(d.hasClass("form-group")){g(a).parent().append("<label class='control-label error'>"+e+"</label>");d.addClass("has-error");
break}f.push(d=d.parent())}return f});q=function(a,b){var d,c,f,e,h;d=g(a).parent();h=[];for(c=1;3>=c;++c){if(d.hasClass("has-error")){d.removeClass("has-error");e=d.find("label");c=0;for(f=e.length;c<f;c++)if(d=e[c],g(d).hasClass("error")){d.remove();break}break}h.push(d=d.parent())}return h};a.success&&"function"===typeof a.success?(f=a.success,a.success=function(a,b){f(a,b);return q(a,b)}):a.success=q;a.validator.constructor===RegExp?(m=a.validator,a.validator=function(b,c,d){if(m.test(b))return a.success(c,
d);if(a.enableError)return a.error(c,d)}):"function"===typeof a.validator&&(f=a.validator,a.validator=function(b,e,d){return c.all([f(b,e,d,k)]).then(function(b){return b&&0<b.length&&b[0]?a.success(e,d):a.error(e,d)})});return a};this.register=function(b,c){null==c&&(c={});return this.rules[b]=this.convertRule(c)};this.getRule=function(b){return this.rules[b]?this.rules[b]:null};this.validate=function(b){};this.get=function(b){f(b);m.all();return{rules:this.rules,convertRule:this.convertRule,getRule:this.getRule,
validate:this.validate}};this.get.$inject=["$injector"];return this.$get=this.get})}).call(this);
