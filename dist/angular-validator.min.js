(function(){var g,h;g=angular.module("validator.directive",[]);h=function(k){return{restrict:"A",require:"ngModel",link:function(a,g,f){var d,c,q;d=k.get("$validator");c=k.get("$parse")(f.ngModel);q=function(d){c.assign(a,d.filter(c(a)));return d.validator(c(a),g,f)};return a.$watch(f.ngModel,function(a,b){var c,m,n,e;if(a!==b&&(c=f.validator.match(/^\/(.*)\/$/),!c&&(c=f.validator.match(/^\[(.*)\]$/))))for(c=c[1].split(","),n=0,e=c.length;n<e;n++)m=c[n],(m=d.getRule(m.trim()))&&q(m,!0)})}}};h.$inject=
["$injector"];g.directive("validator",h)}).call(this);(function(){angular.module("validator",["validator.provider","validator.directive"])}).call(this);
(function(){var g,h=[].indexOf||function(g){for(var a=0,h=this.length;a<h;a++)if(a in this&&this[a]===g)return a;return-1};g=angular.element;angular.module("validator.provider",[]).provider("$validator",function(){var k,a,l,f;a=k=null;this.rules={};l={all:function(){for(var d in this)if("all"!==d)this[d]()}};f=function(d){k=d;return a=k.get("$q")};this.convertRule=function(d){var c,f,l,b,p;null==d&&(d={});b={enableError:!1,invoke:d.invoke,filter:d.filter,validator:d.validator,error:d.error,success:d.success};
null==b.invoke&&(b.invoke=[]);null==b.filter&&(b.filter=function(b){return b});null==b.validator&&(b.validator=function(){return!0});null==b.error&&(b.error="");b.enableError=0<=h.call(b.invoke,"watch");b.error.constructor===String&&(c=b.error,b.error=function(b,d){var e,a,f;e=g(b).parent();f=[];for(a=1;3>=a;++a){if(e.hasClass("form-group")){g(b).parent().append("<label class='control-label error'>"+c+"</label>");e.addClass("has-error");break}f.push(e=e.parent())}return f});p=function(b,d){var e,
a,c,f,h;e=g(b).parent();h=[];for(a=1;3>=a;++a){if(e.hasClass("has-error")){e.removeClass("has-error");f=e.find("label");a=0;for(c=f.length;a<c;a++)if(e=f[a],g(e).hasClass("error")){e.remove();break}break}h.push(e=e.parent())}return h};b.success&&"function"===typeof b.success?(f=b.success,b.success=function(b,a){f(b,a);return p(b,a)}):b.success=p;b.validator.constructor===RegExp?(l=b.validator,b.validator=function(a,d,e){if(l.test(a))return b.success(d,e);if(b.enableError)return b.error(d,e)}):"function"===
typeof b.validator&&(f=b.validator,b.validator=function(d,c,e){return a.all([f(d,c,e,k)]).then(function(a){return a&&0<a.length&&a[0]?b.success(c,e):b.error(c,e)})});return b};this.register=function(a,c){null==c&&(c={});return this.rules[a]=this.convertRule(c)};this.getRule=function(a){return this.rules[a]?this.rules[a]:null};this.validate=function(a){};this.get=function(a){f(a);l.all();return{rules:this.rules,convertRule:this.convertRule,getRule:this.getRule,validate:this.validate}};this.get.$inject=
["$injector"];return this.$get=this.get})}).call(this);
